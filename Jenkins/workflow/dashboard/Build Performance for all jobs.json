{"version":21,"variables":[{"key":"jenkins_jobname","visible":true,"type":"query","version":2,"editable":true,"input":"fetch bizevents, from:now()-375d, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| fieldsKeep `job-name`\n| dedup `job-name`","multiple":false}],"tiles":{"0":{"title":"Number of completed builds","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| summarize toString(toLong(count()))","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"toString(toLong(count()))","recordField":"toString(toLong(count()))","prefixIcon":"","trend":{"isVisible":true}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"1":{"title":"Successful builds","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter buildResult == \"SUCCESS\"\n| filter `job-name` == $jenkins_jobname\n| summarize toString(toLong(count()+5))","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"toString(toLong(count() + 5))","recordField":"toString(toLong(count() + 5))","prefixIcon":"","trend":{"isVisible":true}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"2":{"title":"Failed builds","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter buildResult == \"FAILURE\"\n| filter `job-name` == $jenkins_jobname\n| summarize toString(toLong(count()))","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"toString(toLong(count()))","recordField":"toString(toLong(count()))","prefixIcon":"","trend":{"isVisible":true}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"3":{"title":"Last completed build by User","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type == \"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| fieldsRename buildUserName, alias: `Username`\n| summarize Builds = count(), by:{`Username`}","visualization":"singleValue","visualizationSettings":{"autoSelectVisualization":false,"singleValue":{"labelMode":"none","label":"Username","recordField":"Username","isIconVisible":true,"trend":{"isVisible":true}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"4":{"title":"Outcome of builds by user","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type == \"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| fieldsRename buildUserName, alias: `Username`\n| summarize Builds = count(), by:{`Username`, buildResult}","visualization":"table","visualizationSettings":{"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"5":{"title":"Most recent completed build version","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| summarize buildNumber = toString(toLong(takeMax(buildNumber)))","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"buildNumber","recordField":"buildNumber","alignment":"start","sparklineSettings":{"isVisible":false},"trend":{"isVisible":true}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"6":{"title":"Average total build time","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| fields buildDuration = buildDuration * 1000000\n| fields buildDuration = toDuration(buildDuration)\n| summarize avg(buildDuration), alias:`Build duration`","visualization":"singleValue","visualizationSettings":{"singleValue":{"prefixIcon":"","trend":{"isVisible":true}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"11":{"title":"Aborted builds","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter buildResult == \"ABORTED\"\n| filter `job-name` == $jenkins_jobname\n| summarize toString(toLong(count()))","visualization":"singleValue","visualizationSettings":{"singleValue":{"labelMode":"none","label":"toString(toLong(count()))","recordField":"toString(toLong(count()))","prefixIcon":"","trend":{"isVisible":true}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"12":{"type":"markdown","content":"# Build numbers\n\n---"},"13":{"title":"Average total build time by result","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| fields buildDuration = buildDuration * 1000000, buildResult\n| fields buildDuration = toDuration(buildDuration), `Build result` = buildResult\n| summarize avg(buildDuration), by:{`Build result`}, alias:`Build duration`","visualization":"table","visualizationSettings":{"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"14":{"type":"markdown","content":"# Build duration\n\n---"},"15":{"type":"markdown","content":"# Aborted and failed builds\n\n---\n"},"16":{"title":"Builds that were aborted","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| filter buildResult == \"ABORTED\"\n| sort buildNumber, direction:\"descending\"\n| fieldsRemove event.kind, event.provider, event.type, timestamp, event.id, status\n| fieldsAdd buildDuration = toDuration(buildDuration * 1000000)\n| fieldsAdd buildTimestamp = toTimestamp(buildTimestamp * 1000000)\n| fields buildTimestamp, buildNumber, buildResult, buildUserId, buildUserName, buildDuration","visualization":"table","visualizationSettings":{"thresholds":[],"unitsOverrides":[{"identifier":"buildNumber","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1721388024987}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"17":{"title":"Builds that failed","type":"data","query":"fetch bizevents\n| filter event.type==\"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| filter buildResult == \"FAILURE\"\n| sort buildNumber, direction:\"descending\"\n| fieldsRemove event.kind, event.provider, event.type, timestamp\n| fieldsAdd buildDuration = toDuration(buildDuration * 1000000)\n| fieldsAdd buildTimestamp = toTimestamp(buildTimestamp * 1000000)","visualization":"table","visualizationSettings":{"table":{"lineWrapIds":[["buildNumber"]]},"thresholds":[],"unitsOverrides":[{"identifier":"buildNumber","unitCategory":"unspecified","baseUnit":"none","displayUnit":null,"decimals":0,"suffix":"","delimiter":false,"added":1721388214069}]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"18":{"title":"Build count by status","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| fieldsAdd buildTimestamp = toTimestamp(buildTimestamp * 1000000)\n| fieldsRemove timestamp\n| makeTimeseries count(), by: {buildResult}, time:buildTimestamp","visualization":"barChart","visualizationSettings":{"chartSettings":{"xAxisScaling":"analyzedTimeframe","seriesOverrides":[{"seriesId":["FAILURE"],"override":{"color":{"Default":"var(--dt-colors-charts-loglevel-emergency-default, #ae132d)"}}},{"seriesId":["SUCCESS"],"override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-03-default, #2a7453)"}}},{"seriesId":["ABORTED"],"override":{"color":{"Default":"var(--dt-colors-charts-categorical-color-02-default, #2c2f3f)"}}}],"fieldMapping":{"leftAxisValues":["count()"],"timestamp":"timeframe"}},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}},"timeframe":{"tileTimeframe":{"from":"now()-24h","to":"now()"},"tileTimeframeEnabled":false}},"19":{"title":"Build duration trend","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type==\"buildevents\"\n| filter `job-name` == $jenkins_jobname\n| fieldsAdd buildTimestamp = toTimestamp(buildTimestamp * 1000000)\n| fieldsAdd buildDuration = toDuration(buildDuration * 1000000)\n| fieldsRemove timestamp\n| makeTimeseries avg(buildDuration), by:{buildResult}, alias:`Build duration`, time: buildTimestamp\n","visualization":"lineChart","visualizationSettings":{"chartSettings":{"fieldMapping":{"leftAxisValues":["Build duration"],"timestamp":"timeframe"},"gapPolicy":"connect"},"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"21":{"title":"Successful stages","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type == \"stageType\"\n| filter jobname == $jenkins_jobname\n| filter status == \"SUCCESS\"\n| summarize count(), by:{stagename, status}","visualization":"table","visualizationSettings":{"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"22":{"title":"Aborted stages","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type == \"stageType\"\n| filter jobname == $jenkins_jobname\n| filter status == \"ABORTED\"\n| summarize count(), by:{stagename, status}","visualization":"table","visualizationSettings":{"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"23":{"title":"Failed stages","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type == \"stageType\"\n| filter jobname == $jenkins_jobname\n| filter status == \"FAILED\"\n| summarize count(), by:{stagename, status}","visualization":"table","visualizationSettings":{"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"24":{"title":"Successful stage duration","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type == \"stageType\"\n| filter jobname == $jenkins_jobname\n| filter status == \"SUCCESS\"\n| summarize avg(toDuration(stageDuration * 1000000)), alias:{stageDuration}, by:{stagename}","visualization":"table","visualizationSettings":{"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"25":{"title":"Aborted stage duration","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type == \"stageType\"\n| filter jobname == $jenkins_jobname\n//| filter stagename==\"Testing\"\n| summarize avg(toDuration(stageDuration * 1000000)), alias:{stageDuration}, by:{stagename}","visualization":"table","visualizationSettings":{"table":{"columnOrder":["[\"stagename\"]","[\"stageDuration\"]"]},"autoSelectVisualization":false,"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"26":{"title":"Failed stage duration","type":"data","query":"fetch bizevents, scanLimitGBytes:-1\n| filter event.type == \"stageType\"\n| filter jobname == $jenkins_jobname\n| filter status == \"FAILED\"\n| summarize avg(toDuration(stageDuration * 1000000)), alias:{stageDuration}, by:{stagename}","visualization":"table","visualizationSettings":{"thresholds":[]},"querySettings":{"maxResultRecords":1000,"defaultScanLimitGbytes":500,"maxResultMegaBytes":100,"defaultSamplingRatio":10,"enableSampling":false},"davis":{"davisVisualization":{}}},"30":{"type":"markdown","content":"![Jenkins](https://upload.wikimedia.org/wikipedia/commons/e/e9/Jenkins_logo.svg)"}},"layouts":{"0":{"x":5,"y":7,"w":5,"h":4},"1":{"x":0,"y":7,"w":5,"h":4},"2":{"x":13,"y":0,"w":5,"h":4},"3":{"x":10,"y":7,"w":5,"h":4},"4":{"x":15,"y":7,"w":9,"h":5},"5":{"x":7,"y":0,"w":5,"h":4},"6":{"x":0,"y":23,"w":11,"h":3},"11":{"x":5,"y":11,"w":5,"h":4},"12":{"x":0,"y":5,"w":24,"h":2},"13":{"x":11,"y":23,"w":13,"h":6},"14":{"x":0,"y":21,"w":24,"h":2},"15":{"x":0,"y":35,"w":24,"h":2},"16":{"x":0,"y":37,"w":24,"h":5},"17":{"x":0,"y":42,"w":24,"h":5},"18":{"x":0,"y":15,"w":24,"h":6},"19":{"x":0,"y":29,"w":23,"h":6},"21":{"x":0,"y":47,"w":8,"h":9},"22":{"x":0,"y":56,"w":8,"h":9},"23":{"x":0,"y":65,"w":8,"h":5},"24":{"x":8,"y":47,"w":8,"h":9},"25":{"x":8,"y":56,"w":8,"h":9},"26":{"x":8,"y":65,"w":9,"h":4},"30":{"x":0,"y":0,"w":3,"h":5}},"importedWithCode":false,"settings":{},"annotations":[]}